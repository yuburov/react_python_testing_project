{"version":3,"sources":["redux/actions/actionTypes.js","redux/actions/auth.js","components/Form.js","components/Spinner.js","components/Admin.js","components/login/Login.js","components/navbar/Navbar.js","App.js","reportWebVitals.js","redux/utility.js","redux/reducers/authReducer.js","redux/redux-store.js","index.js"],"names":["AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","authSuccess","token","type","actionTypes","authFail","error","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","authLogin","username","password","axios","post","then","res","data","key","expirationDate","Date","getTime","setItem","catch","err","MyTextField","placeholder","props","useField","field","meta","errorText","touched","TextField","helperText","useStyles","makeStyles","theme","root","width","marginTop","spacing","marginBottom","marginLeft","marginRight","initialValues","surname","name","lastName","phone","address","inn","UserForm","useState","show","setShow","useDispatch","classes","phoneRegExp","RegExp","errorMessage","useSelector","state","auth","style","textAlign","color","message","Box","className","Alert","onClose","Container","maxWidth","Card","CardContent","validateOnChange","validationSchema","object","string","required","matches","onSubmit","setSubmitting","resetForm","values","errors","isSubmitting","isValidating","autoComplete","FormGroup","label","Button","variant","disabled","display","justifyContent","Spinner","CircularProgress","table","minWidth","Admin","users","setUsers","loading","setLoading","isAuthenticated","history","useHistory","useEffect","headers","getItem","push","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","align","TableBody","map","user","scope","FormikField","fullWidth","as","SignupSchema","Yup","shape","min","Login","dirty","isValid","Navbar","exact","to","activeClassName","onClick","App","undefined","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","reducer","reducers","combineReducers","authReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15c39c40.chunk.js","sourcesContent":["export const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_FAIL = 'AUTH_FAIL';\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';","import axios from 'axios';\nimport * as actionTypes from './actionTypes';\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  }\n}\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  }\n}\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  }\n}\n\nexport const logout = () => {\n  localStorage.removeItem('token');\n  localStorage.removeItem('expirationDate');\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n}\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n    }, expirationTime * 1000)\n  }\n}\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.post('http://127.0.0.1:8000/rest-auth/login/', {\n      username: username,\n      password: password\n    })\n        .then(res => {\n          const token = res.data.key;\n          const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n          localStorage.setItem('token', token);\n          localStorage.setItem('expirationDate', expirationDate);\n          dispatch(authSuccess(token));\n          dispatch(checkAuthTimeout(3600))\n        })\n        .catch(err => {\n          dispatch(authFail(err))\n        })\n  }\n}\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem('token');\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem('expirationDate'));\n      if ( expirationDate <= new Date() ) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout( (expirationDate.getTime() - new Date().getTime()) / 1000) );\n      }\n    }\n  }\n}","import React, {useState} from 'react';\nimport { Box, Button, Card, CardContent, FormGroup, TextField, Typography } from '@material-ui/core';\nimport {Form, Formik, useField} from 'formik';\nimport {object, string } from 'yup';\nimport Container from \"@material-ui/core/Container\";\nimport * as axios from \"axios\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {authFail} from \"../redux/actions/auth\";\n\nconst MyTextField = ({placeholder, ...props}) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : '';\n  return (\n      <TextField\n          placeholder={placeholder}\n          {...field}\n          helperText={errorText}\n          error={!!errorText}\n      />\n  )\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '70%',\n    '& > * + *': {\n      marginTop: theme.spacing(2),\n    },\n    marginBottom: '25px',\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n}));\n\nconst initialValues = {\n  surname: '',\n  name: '',\n  lastName: '',\n  phone: '',\n  address: '',\n  inn: ''\n};\n\nfunction UserForm (props) {\n  const [show, setShow] = useState(false)\n  const dispatch = useDispatch()\n  const classes = useStyles();\n  const phoneRegExp = RegExp(\n      /^\\+?1?[6-9]\\d{11,13}$/\n\n  );\n  const submit = ({surname, name, lastName, phone, address, inn}, { setSubmitting, resetForm }) => {\n    axios.post(`http://127.0.0.1:8000/api/user/create/`, {surname, name, lastName, phone, address, inn})\n        .then(res => {\n          resetForm({})\n          setShow(true)\n          return res.data\n        })\n        .catch(error => {\n          dispatch(authFail(error))\n        })\n    setSubmitting(false)\n  }\n  let errorMessage = null\n  const error = useSelector(state => state.auth.error)\n  if (error) {\n    errorMessage = (\n        <div style={{marginBottom: '20px', textAlign: 'center'}}>\n          <p style={{color: 'red'}}>{error.message}</p>\n        </div>\n    );\n  }\n  return (\n      <Box marginTop={5} marginBottom={4}>\n        {show ?\n            <div className={classes.root}>\n              <Alert onClose={() => setShow(false)}>\n                <strong>Congrats!</strong> You have successfully registered</Alert>\n            </div>\n            : null}\n        <h1 style={{textAlign: 'center', color: 'white', marginBottom: '10px'}}>Registration form</h1>\n        {errorMessage}\n        <Container maxWidth=\"md\">\n          <Card>\n            <CardContent>\n              <Formik\n                  validateOnChange={true}\n                  validationSchema={\n                    object({\n                      surname: string().required(),\n                      name: string().required(),\n                      lastName: string().required(),\n                      phone: string().required().matches(phoneRegExp, 'Phone number is not valid'),\n                      address: string().required(),\n                      inn: string().required(),\n                    })\n                  }\n                  initialValues={initialValues} onSubmit={submit}>\n                {({ values, errors, isSubmitting, isValidating }) => (\n                    <Form autoComplete='off'>\n                      <Box marginBottom={2} marginTop={2}>\n                        <FormGroup>\n                          <MyTextField placeholder='Surname' name=\"surname\" type='input' label=\"Surname\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Box marginBottom={2}>\n                        <FormGroup>\n                          <MyTextField placeholder='Name' name=\"name\" type='input' label=\"Name\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Box marginBottom={2}>\n\n                        <FormGroup>\n                          <MyTextField placeholder='Last name' name=\"lastName\" type='input' label=\"Last name\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Box marginBottom={2}>\n                        <FormGroup>\n                          <MyTextField placeholder='Phone (example: +996555224422)' name=\"phone\" type='input' label=\"Phone\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Box marginBottom={2}>\n                        <FormGroup>\n                          <MyTextField placeholder='Address' name=\"address\" type='input' label=\"Address\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Box marginBottom={2}>\n                        <FormGroup>\n                          <MyTextField placeholder='Inn' name=\"inn\" type='input' label=\"Inn\" />\n                        </FormGroup>\n                      </Box>\n\n                      <Button variant={\"contained\"} color={\"primary\"} type=\"submit\" disabled={isSubmitting || isValidating}>Save</Button>\n                    </Form>\n                )}\n              </Formik>\n            </CardContent>\n          </Card>\n        </Container>\n      </Box>\n\n  );\n}\n\nexport default UserForm","import React from \"react\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n    justifyContent: 'center',\n    marginTop: '250px',\n  },\n}));\n\nexport default function Spinner() {\n  const classes = useStyles();\n\n  return (\n      <div className={classes.root}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n  );\n}","import React, {useEffect, useState} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport {Box} from \"@material-ui/core\";\nimport Container from \"@material-ui/core/Container\";\nimport * as axios from \"axios\";\nimport {useSelector} from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport Spinner from \"./Spinner\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 320,\n  },\n});\n\nfunction Admin(props) {\n  const [users, setUsers] = useState([])\n  const [loading, setLoading] = useState(false)\n  const isAuthenticated = useSelector((state => state.auth.token !== null))\n  const history = useHistory()\n\n  useEffect(() => {\n    setLoading(true)\n    axios.get(`http://127.0.0.1:8000/api/`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n            \"Authorization\": `Token ${localStorage.getItem('token')}`\n        }\n    })\n    .then(res => {\n          setUsers(res.data)\n          setLoading(false)\n        })\n  },[])\n\n  const classes = useStyles();\n  if (!isAuthenticated) {\n    history.push('/login')\n  } else if (loading) {\n    return <Spinner />\n  }\n  return (\n      <Box marginTop={5} marginBottom={4}>\n        <Container maxWidth=\"md\">\n          <h1 style={{textAlign: 'center', color: 'white',  marginBottom: '10px'}}>List of users</h1>\n          <TableContainer component={Paper}>\n            <Table className={classes.table} aria-label=\"simple table\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Surname</TableCell>\n                  <TableCell align=\"right\">Name</TableCell>\n                  <TableCell align=\"right\">Last name</TableCell>\n                  <TableCell align=\"right\">Phone</TableCell>\n                  <TableCell align=\"right\">Address</TableCell>\n                  <TableCell align=\"right\">Inn</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {users.map((user) => (\n                    <TableRow key={user.name}>\n                      <TableCell component=\"th\" scope=\"row\">\n                        {user.surname}\n                      </TableCell>\n                      <TableCell align=\"right\">{user.name}</TableCell>\n                      <TableCell align=\"right\">{user.lastName}</TableCell>\n                      <TableCell align=\"right\">{user.phone}</TableCell>\n                      <TableCell align=\"right\">{user.address}</TableCell>\n                      <TableCell align=\"right\">{user.inn}</TableCell>\n                    </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Container>\n      </Box>\n  );\n}\n\nexport default Admin;\n\n","import React from \"react\";\nimport {Formik, Form, ErrorMessage, Field, useField} from \"formik\";\nimport * as Yup from \"yup\";\nimport Button from \"@material-ui/core/Button\";\nimport {TextField} from \"@material-ui/core\";\nimport './Login.css'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {authLogin} from \"../../redux/actions/auth\";\nimport { useHistory } from \"react-router-dom\";\nimport Spinner from \"../Spinner\";\n\nconst FormikField = ({fullWidth, required = false, label, type = 'text', ...props}) => {\n  const [field, meta] = useField(props);\n  const errorText = meta.error && meta.touched ? meta.error : '';\n  return (\n      <div className=\"formikField\">\n        <Field\n            type={type}\n            required={required}\n            fullWidth\n            as={TextField}\n            label={label}\n            {...field}\n            helperText={errorText}\n            error={!!errorText}\n        />\n      </div>\n  )\n};\n\nconst initialValues = {\n  username: \"\",\n  password: \"\"\n};\n\nconst SignupSchema = Yup.object().shape({\n  username: Yup.string()\n      .min(4, \"Too Short!\")\n      .required(\"Required\"),\n  password: Yup.string()\n      .min(5, \"Too Short!\")\n      .required(\"Required\")\n});\n\nconst Login = (props) => {\n  const isAuthenticated = useSelector((state => state.auth.token !== null))\n  const loading = useSelector(state => state.auth.loading)\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const handleSubmit = (values) => {\n    dispatch(authLogin(values.username, values.password))\n  };\n\n  let errorMessage = null\n  const error = useSelector(state => state.auth.error)\n  if (error) {\n    errorMessage = (\n        <div style={{marginBottom: '20px', textAlign: 'center'}}>\n          <p style={{color: 'red'}}>{error.message}</p>\n        </div>\n    );\n    }\n\n  if (isAuthenticated) {\n    history.push('/admin_page')\n  } else if (loading) {\n    return <Spinner />\n  }\n    return (\n        <div style={{display: 'flex', justifyContent: 'center'}}>\n          <div className=\"login\">\n            <h1 style={{textAlign: 'center'}}>Sign In</h1>\n            {errorMessage}\n            <Formik\n                initialValues={initialValues}\n                onSubmit={handleSubmit}\n                validationSchema={SignupSchema}\n            >\n              {({dirty, isValid}) => {\n                return (\n                    <Form>\n                      <FormikField name=\"username\" label=\"Name\" required/>\n                      <FormikField name=\"password\" type='password' label=\"Password\" required/>\n                      <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          disabled={!dirty || !isValid}\n                          type=\"submit\"\n                      >\n                        Sign In\n                      </Button>\n                    </Form>\n                );\n              }}\n            </Formik>\n          </div>\n        </div>\n    )\n}\n\nexport default Login;","import React from \"react\";\nimport {Link, NavLink} from \"react-router-dom\";\nimport \"./Navbar.css\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {logout} from \"../../redux/actions/auth\";\n\nconst Navbar = () => {\n\n  const isAuthenticated = useSelector((state => state.auth.token !== null))\n  const dispatch = useDispatch()\n  const quit = () => {\n    dispatch(logout())\n  }\n  return (\n      <nav>\n        <div className=\"logo\">\n          Test<font>Project</font>\n        </div>\n        <ul className=\"menu-list\">\n          <li>\n            <NavLink exact to='/' activeClassName=\"active\">\n              Home\n            </NavLink>\n          </li>\n          { isAuthenticated ?\n              <>\n                <li>\n                  <NavLink exact to='/admin_page' activeClassName=\"active\">\n                    Admin page\n                  </NavLink>\n                </li>\n                <li>\n                  <Link activeClassName=\"active\">\n                    <span onClick={quit}>Logout</span>\n                  </Link>\n                </li>\n              </>\n              :\n              <li>\n                <NavLink exact to='/login' activeClassName=\"active\">\n                  Login\n                </NavLink>\n              </li>\n          }\n        </ul>\n      </nav>\n  );\n};\n\nexport default Navbar;","import React, {useEffect} from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\nimport UserForm from \"./components/Form\";\nimport Admin from \"./components/Admin\";\nimport Login from \"./components/login/Login\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport {useDispatch} from \"react-redux\";\nimport {authCheckState} from \"./redux/actions/auth\";\n\nfunction App() {\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(authCheckState())\n  },[])\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <Switch>\n          <Route path='/' exact>\n            <UserForm/>\n          </Route>\n          <Route path='/admin_page' exact>\n            <Admin/>\n          </Route>\n          <Route path='/login' exact>\n            <Login/>\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  }\n}","import { updateObject } from '../utility';\nimport {AUTH_FAIL, AUTH_LOGOUT, AUTH_START, AUTH_SUCCESS} from \"../actions/actionTypes\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false\n}\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n}\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n}\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n}\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n}\n\nconst reducer = (state=initialState, action) => {\n  switch (action.type) {\n    case AUTH_START: return authStart(state, action);\n    case AUTH_SUCCESS: return authSuccess(state, action);\n    case AUTH_FAIL: return authFail(state, action);\n    case AUTH_LOGOUT: return authLogout(state, action);\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport thunkMiddleware from 'redux-thunk'\nimport authReducer from \"./reducers/authReducer\";\n\n\nlet reducers = combineReducers({\n  auth: authReducer,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}